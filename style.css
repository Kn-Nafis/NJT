:root{
  --bg: #0b0a10;
  --bg2: #070611;

  --card: rgba(255,255,255,0.08);
  --card2: rgba(255,255,255,0.12);

  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.72);

  --pink: #ff4d8d;
  --rose: #ff7aa6;
  --glow: rgba(255, 77, 141, 0.45);

  --line: rgba(255,255,255,0.14);

  --shadow: 0 18px 60px rgba(0,0,0,0.45);
  --shadow2: 0 26px 90px rgba(0,0,0,0.55);

  /* ✅ Mood background glows (default = love/pink) */
  --mood1: rgba(255,77,141,0.16);
  --mood2: rgba(255,122,166,0.14);
}

html[data-theme="light"]{
  --bg: #fff3f7;
  --bg2: #ffe1ec;

  --card: rgba(255,255,255,0.72);
  --card2: rgba(255,255,255,0.84);

  --text: rgba(18,14,20,0.92);
  --muted: rgba(18,14,20,0.68);

  --line: rgba(18,14,20,0.12);

  --shadow: 0 18px 60px rgba(25,18,28,0.18);
  --shadow2: 0 26px 90px rgba(25,18,28,0.20);
}

/* =========================
   Base
========================= */
*{ box-sizing: border-box; }
html{ scroll-behavior: smooth; }
body{
  margin:0;
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);

  /* ✅ Mood-aware background */
  background:
    radial-gradient(1200px 900px at 80% 10%, var(--mood1), transparent 50%),
    radial-gradient(900px 800px at 10% 20%, var(--mood2), transparent 55%),
    linear-gradient(180deg, var(--bg2), var(--bg) 30%, var(--bg));

  overflow-x: hidden;
  transition: background 0.8s ease;
}

img{ display:block; }
a{ color: inherit; }
section[id]{ scroll-margin-top: 130px; }
body.locked{ overflow: hidden; }

/* =========================
   Mood System
========================= */
body[data-mood="happy"]{
  --mood1: rgba(255,196,77,0.25);
  --mood2: rgba(255,220,140,0.20);
}
body[data-mood="sad"]{
  --mood1: rgba(77,163,255,0.25);
  --mood2: rgba(140,200,255,0.20);
}
body[data-mood="angry"]{
  --mood1: rgba(255,70,70,0.25);
  --mood2: rgba(255,140,140,0.20);
}
body[data-mood="tired"]{
  --mood1: rgba(160,120,255,0.25);
  --mood2: rgba(200,170,255,0.20);
}
body[data-mood="love"]{
  --mood1: rgba(255,77,141,0.30);
  --mood2: rgba(255,122,166,0.25);
}

/* (Optional vibe pulse on easter egg) */
body.pulseLove{
  animation: pulseLove 1.1s ease;
}
@keyframes pulseLove{
  0%{ filter: none; }
  50%{ filter: saturate(1.2) brightness(1.05); }
  100%{ filter: none; }
}

/* =========================
   Confetti + Cursor hearts + Toast
========================= */
.confettiCanvas{
  position: fixed;
  inset: 0;
  z-index: 998;
  pointer-events: none;
}
.cursorHearts{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 997;
}
.cHeart{
  position: absolute;
  animation: cFloat 0.9s ease forwards;
  filter: drop-shadow(0 10px 18px rgba(255,77,141,0.25));
}
@keyframes cFloat{
  0%   { opacity: 0; transform: translate(-50%, -50%) scale(0.7); }
  20%  { opacity: 1; }
  100% { opacity: 0; transform: translate(-50%, -90px) scale(1.35); }
}

.toast{
  position: fixed;
  left: 50%;
  bottom: 24px;
  transform: translateX(-50%) translateY(12px);
  background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35));
  border: 1px solid rgba(255,255,255,0.18);
  backdrop-filter: blur(10px);
  padding: 12px 14px;
  border-radius: 16px;
  box-shadow: var(--shadow);
  opacity: 0;
  z-index: 999;
  transition: 0.25s ease;
  color: var(--text);
  max-width: min(560px, 92vw);
  text-align: center;
}
.toast.show{
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* =========================
   Floating hearts background
========================= */
.hearts{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
  opacity: 0.55;
}
.hearts span{
  position: absolute;
  bottom: -30px;
  font-size: 18px;
  filter: drop-shadow(0 6px 18px rgba(255, 77, 141, 0.35));
  animation: floatUp linear infinite;
  user-select: none;
}
.hearts span:nth-child(even){ animation-name: floatUpAlt; }

.hearts span:nth-child(1){ left: 8%;  animation-duration: 10s; animation-delay: 0s;  opacity: .7; }
.hearts span:nth-child(2){ left: 18%; animation-duration: 12s; animation-delay: 2s;  opacity: .4; }
.hearts span:nth-child(3){ left: 28%; animation-duration: 9s;  animation-delay: 1s;  opacity: .6; }
.hearts span:nth-child(4){ left: 42%; animation-duration: 14s; animation-delay: 4s;  opacity: .35;}
.hearts span:nth-child(5){ left: 55%; animation-duration: 11s; animation-delay: 3s;  opacity: .55;}
.hearts span:nth-child(6){ left: 63%; animation-duration: 13s; animation-delay: 1s;  opacity: .4; }
.hearts span:nth-child(7){ left: 72%; animation-duration: 10s; animation-delay: 5s;  opacity: .65;}
.hearts span:nth-child(8){ left: 80%; animation-duration: 15s; animation-delay: 2s;  opacity: .35;}
.hearts span:nth-child(9){ left: 90%; animation-duration: 12s; animation-delay: 0s;  opacity: .55;}
.hearts span:nth-child(10){left: 96%; animation-duration: 9s;  animation-delay: 4s;  opacity: .45;}

@keyframes floatUp{
  0%   { transform: translateY(0) translateX(0) scale(1) rotate(0deg); opacity: 0; }
  10%  { opacity: 0.7; }
  100% { transform: translateY(-120vh) translateX(60px) scale(1.4) rotate(18deg); opacity: 0; }
}
@keyframes floatUpAlt{
  0%   { transform: translateY(0) translateX(0) scale(1) rotate(0deg); opacity: 0; }
  10%  { opacity: 0.6; }
  100% { transform: translateY(-120vh) translateX(-60px) scale(1.35) rotate(-14deg); opacity: 0; }
}

/* =========================
   Topbar
========================= */
.topbar{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 50;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 18px;
  background: rgba(10, 9, 18, 0.55);
  border-bottom: 1px solid var(--line);
  backdrop-filter: blur(14px);
}
html[data-theme="light"] .topbar{ background: rgba(255,255,255,0.65); }

.brand{
  font-weight: 800;
  letter-spacing: .5px;
  text-transform: uppercase;
  font-size: 13px;
  opacity: .9;
}
.nav{
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
  justify-content: center;
}
.nav a{
  color: var(--muted);
  text-decoration: none;
  font-size: 13px;
  padding: 8px 10px;
  border-radius: 999px;
  transition: 0.2s ease;
}
.nav a:hover{
  color: var(--text);
  background: rgba(255,255,255,0.10);
}
.topActions{ display:flex; gap: 10px; align-items:center; }

.musicBtn, .toggleBtn{
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  font-size: 18px;
  cursor: pointer;
  transition: 0.2s ease;
}
.musicBtn:hover, .toggleBtn:hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.20);
}
.musicBtn.on{
  border-color: rgba(255,77,141,0.6);
  box-shadow: 0 0 0 6px rgba(255,77,141,0.12);
}

/* =========================
   Hero
========================= */
.hero{
  position: relative;
  min-height: 100vh;
  padding-top: 110px;
  display: grid;
  place-items: center;
  z-index: 1;
}
.heroImg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit: cover;
  filter: saturate(1.1) contrast(1.05) brightness(0.75);
  transform: scale(1.02);
}
.heroOverlay{
  position:absolute;
  inset:0;
  background: radial-gradient(900px 520px at 50% 25%, rgba(255,77,141,0.28), transparent 60%),
              linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.80) 55%, rgba(0,0,0,0.95));
}
html[data-theme="light"] .heroOverlay{
  background: radial-gradient(900px 520px at 50% 25%, rgba(255,77,141,0.20), transparent 60%),
              linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.70) 55%, rgba(255,255,255,0.92));
}
.heroContent{
  width: min(980px, 92vw);
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 22px 0 38px;
  text-shadow: 0 10px 40px rgba(0,0,0,0.55);
}
html[data-theme="light"] .heroContent{ text-shadow: none; }

.smallTag{
  display:inline-block;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.07);
  color: rgba(255,255,255,0.85);
  font-size: 12px;
  letter-spacing: .3px;
  backdrop-filter: blur(10px);
}
html[data-theme="light"] .smallTag{
  border: 1px solid rgba(25,18,28,0.12);
  background: rgba(255,255,255,0.60);
  color: rgba(25,18,28,0.75);
}

.hero h1{
  margin: 14px 0 8px;
  font-size: clamp(34px, 4.7vw, 64px);
  line-height: 1.05;
  letter-spacing: -0.8px;
  font-weight: 900;
}
.hero .name{
  color: var(--rose);
  text-shadow: 0 0 22px var(--glow);
}
.heroText{
  max-width: 720px;
  margin: 0 auto 18px;
  color: rgba(255,255,255,0.78);
  font-size: clamp(14px, 1.6vw, 18px);
  line-height: 1.65;
}
html[data-theme="light"] .heroText{ color: rgba(25,18,28,0.72); }

.heroActions{
  display:flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
  margin: 16px 0 18px;
}

/* =========================
   Buttons
========================= */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
  padding: 12px 16px;
  border-radius: 14px;
  text-decoration:none;
  border: 1px solid rgba(255,255,255,0.16);
  color: var(--text);
  background: rgba(255,255,255,0.06);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease, background .25s ease;
  cursor: pointer;
  font-weight: 700;
}
.btn:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}
.btn.primary{
  background: linear-gradient(135deg, rgba(255,77,141,0.95), rgba(255,122,166,0.9));
  border-color: rgba(255,255,255,0.18);
  box-shadow: 0 16px 44px rgba(255,77,141,0.18);
}
.btn.ghost{ background: rgba(255,255,255,0.06); }

/* =========================
   Countdown + Love meter
========================= */
.countdownCard{
  margin: 18px auto 0;
  width: min(760px, 92vw);
  padding: 16px 16px 14px;
  border-radius: 22px;
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  backdrop-filter: blur(12px);
  box-shadow: var(--shadow2);
}
.countTitle{ font-weight: 900; margin-bottom: 2px; }
.countGrid{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin-top: 10px;
}
.countBox{
  border-radius: 18px;
  padding: 12px 10px;
  background: rgba(255,255,255,0.07);
  border: 1px solid rgba(255,255,255,0.12);
}
.countNum{ font-size: 22px; font-weight: 900; }
.countLbl{ font-size: 12px; color: rgba(255,255,255,0.75); }
.countHint{ margin: 0; color: rgba(255,255,255,0.68); font-size: 12px; }

.meterWrap{ margin-top: 14px; text-align: left; }
.meterTitle{ font-weight: 800; margin-bottom: 8px; display:flex; gap: 8px; flex-wrap: wrap; }
.meterValue{ color: var(--rose); text-shadow: 0 0 16px var(--glow); }
.meterBar{
  height: 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(0,0,0,0.20);
  overflow: hidden;
}
.meterFill{
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(255,77,141,0.95), rgba(255,122,166,0.90));
  transition: width 0.25s ease;
}
.meterHint{ margin: 10px 0 0; color: rgba(255,255,255,0.68); font-size: 12px; }

/* =========================
   Sections
========================= */
.section{ position: relative; z-index: 1; padding: 86px 0; }
.section.soft{
  background: rgba(255,255,255,0.03);
  border-top: 1px solid var(--line);
  border-bottom: 1px solid var(--line);
}
html[data-theme="light"] .section.soft{ background: rgba(255,255,255,0.55); }

.container{ width: min(1100px, 92vw); margin: 0 auto; padding: 0 6px; }

.sectionTitle{
  margin: 0 0 8px;
  font-size: clamp(26px, 3vw, 40px);
  letter-spacing: -0.6px;
  font-weight: 900;
  position: relative;
  display: inline-block;
}
.sectionTitle::after{
  content:"";
  position:absolute;
  left: 0;
  bottom: -6px;
  width: 70%;
  height: 10px;
  background: rgba(255,77,141,0.25);
  filter: blur(12px);
}
.sectionSub{
  margin: 0 0 22px;
  color: rgba(255,255,255,0.72);
  max-width: 760px;
  line-height: 1.65;
  font-size: 15px;
}
html[data-theme="light"] .sectionSub{ color: rgba(18,14,20,0.70); }

/* =========================
   Timeline
========================= */
.timeline{ display: grid; gap: 16px; max-width: 900px; }
.tItem{ display: grid; grid-template-columns: 22px 1fr; gap: 12px; align-items: start; }
.tDot{
  width: 14px; height: 14px; border-radius: 999px; margin-top: 18px;
  background: linear-gradient(135deg, var(--pink), var(--rose));
  box-shadow: 0 0 0 6px rgba(255,77,141,0.12);
}
.tCard{
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 22px;
  padding: 18px;
  box-shadow: var(--shadow2);
}
.tCard p{ color: rgba(255,255,255,0.75); line-height: 1.7; margin: 0 0 8px; }
html[data-theme="light"] .tCard p{ color: rgba(18,14,20,0.74); }
.tNote{ font-size: 12px; color: rgba(255,255,255,0.65); }
html[data-theme="light"] .tNote{ color: rgba(18,14,20,0.62); }

/* =========================
   Cards grid
========================= */
.grid3{ display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; }
.card{
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 22px;
  padding: 18px;
  box-shadow: var(--shadow2);
  transition: 0.25s ease;
}
.card:hover{ transform: translateY(-3px); border-color: rgba(255,77,141,0.35); }
.icon{ font-size: 26px; margin-bottom: 10px; }
.card p{ margin: 0; color: rgba(255,255,255,0.75); line-height: 1.7; }
html[data-theme="light"] .card p{ color: rgba(18,14,20,0.74); }

/* =========================
   Open When
========================= */
.openWhenGrid{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
  max-width: 980px;
}
.owCard{
  text-align: left;
  border: 1px solid rgba(255,255,255,0.16);
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border-radius: 22px;
  padding: 18px;
  box-shadow: var(--shadow2);
  cursor: pointer;
  transition: 0.25s ease;
  color: var(--text);
}
.owCard:hover{ transform: translateY(-3px); border-color: rgba(255,77,141,0.35); }
.owCardEmoji{ font-size: 28px; margin-bottom: 10px; }
.owCardTitle{ font-weight: 900; margin-bottom: 4px; }
.owCardSub{ color: rgba(255,255,255,0.74); margin-bottom: 8px; }
html[data-theme="light"] .owCardSub{ color: rgba(18,14,20,0.70); }
.owCardHint{ font-size: 12px; color: rgba(255,255,255,0.65); }
html[data-theme="light"] .owCardHint{ color: rgba(18,14,20,0.60); }

/* Open When Modal */
.owModal{ position: fixed; inset:0; display:none; z-index: 1001; }
.owModal.open{ display:block; }
.owBackdrop{ position:absolute; inset:0; background: rgba(0,0,0,0.70); backdrop-filter: blur(10px); }
.owPanel{
  position:absolute;
  left:50%; top:50%;
  transform: translate(-50%, -50%);
  width: min(720px, 92vw);
  border-radius: 26px;
  padding: 18px;
  border: 1px solid rgba(255,255,255,0.18);
  background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
  box-shadow: var(--shadow2);
}
.owTop{ display:flex; gap: 12px; align-items:center; margin-bottom: 12px; }
.owEmoji{
  font-size: 34px;
  width: 54px; height: 54px;
  display:grid; place-items:center;
  border-radius: 18px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.16);
}
.owTitle{ font-weight: 900; font-size: 18px; }
.owSub{ color: rgba(255,255,255,0.74); font-size: 13px; }
html[data-theme="light"] .owSub{ color: rgba(18,14,20,0.70); }
.owBody{
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.18);
  padding: 14px;
}
html[data-theme="light"] .owBody{
  background: rgba(255,255,255,0.70);
  border-color: rgba(18,14,20,0.12);
}
.owBody p{ margin: 0; line-height: 1.8; color: rgba(255,255,255,0.88); }
html[data-theme="light"] .owBody p{ color: rgba(18,14,20,0.88); }
.owActions{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }

/* =========================
   Distance
========================= */
.distanceWrap{
  display:grid;
  grid-template-columns: 1fr 1.1fr;
  gap: 14px;
  align-items: start;
}
.distanceCard, .mapCard{
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 26px;
  padding: 18px;
  box-shadow: var(--shadow2);
}
.distanceRow{
  display:flex;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 0;
  border-bottom: 1px solid rgba(255,255,255,0.10);
}
.distanceLabel{ color: rgba(255,255,255,0.70); font-weight: 700; }
html[data-theme="light"] .distanceLabel{ color: rgba(18,14,20,0.65); }
.distanceValue{ font-weight: 900; }
.distanceBig{ display:flex; align-items: baseline; gap: 8px; margin-top: 12px; }
.distanceNum{ font-size: 44px; font-weight: 900; color: var(--rose); text-shadow: 0 0 18px var(--glow); }
.distanceUnit{ font-weight: 900; opacity: .8; }
.distanceHint{ margin: 6px 0 0; color: rgba(255,255,255,0.74); line-height: 1.7; }
html[data-theme="light"] .distanceHint{ color: rgba(18,14,20,0.70); }
.distanceBtns{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }
.distanceSmall{ margin: 10px 0 0; font-size: 12px; color: rgba(255,255,255,0.62); }
html[data-theme="light"] .distanceSmall{ color: rgba(18,14,20,0.60); }

.mapHead h3{ margin: 0 0 6px; }
.mapHead p{ margin: 0 0 12px; color: rgba(255,255,255,0.72); }
html[data-theme="light"] .mapHead p{ color: rgba(18,14,20,0.68); }
.mapFrame{
  width: 100%;
  height: 320px;
  border: 0;
  border-radius: 18px;
  background: rgba(0,0,0,0.15);
}

/* =========================
   Mood section UI
========================= */
.moodWrap{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  align-items: start;
  max-width: 980px;
}
.moodBtns{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}
.moodBtn{
  border-radius: 18px;
  padding: 14px 14px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  cursor: pointer;
  font-weight: 800;
  transition: 0.2s ease;
}
.moodBtn:hover{ transform: translateY(-2px); box-shadow: var(--shadow); }
.moodBtn.reset{
  grid-column: span 2;
  background: linear-gradient(135deg, rgba(255,77,141,0.22), rgba(255,255,255,0.06));
}
.moodCard{
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 22px;
  padding: 18px;
  box-shadow: var(--shadow2);
}
.moodTitle{ font-weight: 900; margin-bottom: 8px; }
.moodText{ margin: 0; color: rgba(255,255,255,0.80); line-height: 1.8; }
html[data-theme="light"] .moodText{ color: rgba(18,14,20,0.78); }
.moodTip{ margin-top: 10px; font-size: 12px; color: rgba(255,255,255,0.62); }
html[data-theme="light"] .moodTip{ color: rgba(18,14,20,0.60); }

/* =========================
   Slideshow
========================= */
.slider{ max-width: 980px; }
.sliderFrame{
  position: relative;
  border-radius: 26px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.06);
  box-shadow: var(--shadow2);
}
.slideImg{
  width: 100%;
  height: min(520px, 58vw);
  object-fit: cover;
  filter: contrast(1.05) saturate(1.05);
  opacity: 0.88;
  transform: scale(1.02);
  transition: 0.35s ease;
}
.slideImg.in{ opacity: 1; transform: scale(1); }
.slideCap{
  position: absolute;
  left: 14px;
  bottom: 14px;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(0,0,0,0.38);
  border: 1px solid rgba(255,255,255,0.14);
  backdrop-filter: blur(10px);
  font-size: 13px;
}
html[data-theme="light"] .slideCap{
  background: rgba(255,255,255,0.65);
  color: rgba(18,14,20,0.82);
}
.sliderControls{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }
.sliderDots{ display:flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
.dot{
  width: 10px; height: 10px; border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.10);
  cursor: pointer;
}
.dot.on{
  background: linear-gradient(135deg, rgba(255,77,141,0.95), rgba(255,122,166,0.9));
  border-color: rgba(255,255,255,0.22);
}

/* =========================
   Gallery
========================= */
.gallery{ display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.gItem{
  margin: 0;
  border-radius: 22px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.04);
  position: relative;
  transition: 0.25s ease;
}
.gItem:hover{ transform: translateY(-3px); border-color: rgba(255,77,141,0.35); box-shadow: var(--shadow2); }
.gItem img{ width: 100%; height: 260px; object-fit: cover; transform: scale(1.02); transition: 0.25s ease; }
.gItem:hover img{ transform: scale(1.08); }
.gItem figcaption{
  position: absolute;
  left: 10px; bottom: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(0,0,0,0.40);
  border: 1px solid rgba(255,255,255,0.14);
  backdrop-filter: blur(10px);
  font-size: 12px;
  color: rgba(255,255,255,0.85);
}

/* =========================
   Polaroid
========================= */
.polaroidWrap{
  margin-top: 26px;
  display: grid;
  grid-template-columns: 360px 1fr;
  gap: 18px;
  align-items: center;
}
.polaroid{
  background: rgba(255,255,255,0.90);
  border-radius: 18px;
  padding: 14px 14px 18px;
  transform: rotate(-2deg);
  box-shadow: var(--shadow2);
}
.polaroid img{ width: 100%; height: 320px; object-fit: cover; border-radius: 12px; }
.polaroidText{
  margin-top: 10px;
  font-family: "Great Vibes", cursive;
  font-size: 34px;
  color: #1d1020;
  text-align: center;
}
.polaroidNote{
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 22px;
  padding: 20px;
  box-shadow: var(--shadow2);
}
.polaroidNote p{ color: rgba(255,255,255,0.75); line-height: 1.8; }
html[data-theme="light"] .polaroidNote p{ color: rgba(18,14,20,0.75); }
.signature{ margin-top: 10px; color: rgba(255,255,255,0.85); font-weight: 800; }

/* =========================
   Letter
========================= */
.letterCard{
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 26px;
  padding: 22px;
  max-width: 950px;
  box-shadow: var(--shadow2);
}
.letterCard p{ color: rgba(255,255,255,0.78); line-height: 1.85; margin-top: 0; }
html[data-theme="light"] .letterCard p{ color: rgba(18,14,20,0.78); }
.letterEnd{ margin-top: 18px; color: rgba(255,255,255,0.9); font-weight: 800; }
.hand{
  font-family: "Great Vibes", cursive;
  font-size: 40px;
  color: var(--rose);
  text-shadow: 0 0 18px var(--glow);
}
.surprise{
  margin: 14px 0 0;
  padding: 12px 14px;
  border-radius: 18px;
  background: rgba(255,77,141,0.10);
  border: 1px solid rgba(255,77,141,0.25);
  color: rgba(255,255,255,0.88);
  opacity: 0;
  transform: translateY(6px);
  transition: 0.25s ease;
}
.surprise.show{ opacity: 1; transform: translateY(0); }

/* Mini cards row */
.miniRow{
  margin-top: 18px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  max-width: 950px;
}
.miniCard{
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 22px;
  padding: 18px;
  box-shadow: var(--shadow2);
}
.miniCard p, .miniCard li{ color: rgba(255,255,255,0.75); line-height: 1.8; }
html[data-theme="light"] .miniCard p,
html[data-theme="light"] .miniCard li{ color: rgba(18,14,20,0.74); }

.codeLine{
  display: inline-block;
  margin: 10px 0 12px;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(0,0,0,0.35);
  border: 1px solid rgba(255,255,255,0.12);
  color: rgba(255,255,255,0.8);
}
.checkList{ list-style: none; padding-left: 0; margin: 0; }
.checkList li{ margin: 8px 0; padding-left: 26px; position: relative; }
.checkList li::before{ content: "✓"; position: absolute; left: 0; top: 0; color: var(--rose); font-weight: 900; }

/* =========================
   Footer
========================= */
.footer{
  padding: 40px 0 54px;
  text-align: center;
  color: rgba(255,255,255,0.75);
  border-top: 1px solid var(--line);
}
html[data-theme="light"] .footer{ color: rgba(18,14,20,0.70); }

/* =========================
   Lightbox
========================= */
.lightbox{
  position: fixed;
  inset: 0;
  display: none;
  z-index: 999;
}
.lightbox.open{ display: block; }
.lightboxBackdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.72);
  backdrop-filter: blur(8px);
}
.lightboxPanel{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 22px;
}
.lightboxImg{
  max-width: min(980px, 92vw);
  max-height: min(86vh, 820px);
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 30px 90px rgba(0,0,0,0.6);
}
.lbBtn{
  position: absolute;
  width: 46px;
  height: 46px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.9);
  cursor: pointer;
  font-size: 22px;
  display: grid;
  place-items: center;
  transition: 0.2s ease;
}
.lbBtn:hover{ background: rgba(255,255,255,0.16); }
.lbClose{ top: 18px; right: 18px; font-size: 18px; }
.lbPrev{ left: 18px; top: 50%; transform: translateY(-50%); }
.lbNext{ right: 18px; top: 50%; transform: translateY(-50%); }
.lbPrev:hover{ transform: translateY(-50%) translateY(-2px); }
.lbNext:hover{ transform: translateY(-50%) translateY(-2px); }
.lbClose:hover{ transform: translateY(-2px); }

/* =========================
   Diary
========================= */
.diaryWrap{
  display: grid;
  grid-template-columns: 1fr 1.1fr;
  gap: 14px;
  align-items: start;
}
.diaryCard, .diaryListCard{
  background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 26px;
  padding: 18px;
  box-shadow: var(--shadow2);
}
.diaryLabel{ display:block; font-weight: 900; margin-bottom: 10px; }
.diaryText{
  width: 100%;
  resize: vertical;
  min-height: 140px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.28);
  color: rgba(255,255,255,0.9);
  padding: 14px;
  line-height: 1.75;
  outline: none;
}
html[data-theme="light"] .diaryText{
  background: rgba(255,255,255,0.75);
  border-color: rgba(18,14,20,0.14);
  color: rgba(18,14,20,0.90);
}
.diaryText:focus{
  border-color: rgba(255,77,141,0.45);
  box-shadow: 0 0 0 6px rgba(255,77,141,0.10);
}
.diaryActions{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }
.diaryHint{ margin: 12px 0 0; color: rgba(255,255,255,0.7); font-size: 13px; }
html[data-theme="light"] .diaryHint{ color: rgba(18,14,20,0.70); }

.diaryList{ display: grid; gap: 12px; }
.noteItem{
  border-radius: 20px;
  padding: 14px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
}
.noteTop{ display:flex; justify-content: space-between; align-items: center; gap: 10px; margin-bottom: 8px; }
.noteDate{ font-size: 12px; color: rgba(255,255,255,0.72); }
.noteText{ margin: 0; color: rgba(255,255,255,0.85); line-height: 1.8; white-space: pre-wrap; }
.noteDel{
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.25);
  color: rgba(255,255,255,0.85);
  border-radius: 999px;
  width: 36px;
  height: 36px;
  cursor: pointer;
  transition: 0.2s ease;
}
.noteDel:hover{ transform: translateY(-2px); border-color: rgba(255,77,141,0.35); }

/* ✅ LIGHT MODE: fix note border + date visibility */
html[data-theme="light"] .noteItem{
  background: rgba(255,255,255,0.88);
  border: 1px solid rgba(0,0,0,0.18);
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
}
html[data-theme="light"] .noteDate{
  color: rgba(0,0,0,0.70);
  font-weight: 800;
}
html[data-theme="light"] .noteText{ color: rgba(0,0,0,0.88); }
html[data-theme="light"] .noteDel{
  border-color: rgba(0,0,0,0.18);
  background: rgba(0,0,0,0.05);
  color: rgba(0,0,0,0.70);
}
html[data-theme="light"] .noteDel:hover{
  border-color: rgba(255,77,141,0.55);
  background: rgba(255,77,141,0.12);
}

/* =========================
   Floating love button
========================= */
.floatLove{
  position: fixed;
  right: 18px;
  bottom: 18px;
  width: 54px;
  height: 54px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.16);
  background: linear-gradient(135deg, rgba(255,77,141,0.95), rgba(255,122,166,0.9));
  color: rgba(255,255,255,0.95);
  box-shadow: var(--shadow);
  cursor: pointer;
  z-index: 997;
  font-size: 22px;
  transition: 0.2s ease;
}
.floatLove:hover{ transform: translateY(-2px); box-shadow: var(--shadow2); }

/* =========================
   Password Overlay
========================= */
.lockOverlay{
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: grid;
  place-items: center;
  padding: 18px;
  background:
    radial-gradient(900px 520px at 50% 25%, rgba(255,77,141,0.28), transparent 60%),
    rgba(0,0,0,0.80);
  backdrop-filter: blur(12px);
}
.lockOverlay.hide{ display: none; }
.lockCard{
  width: min(520px, 92vw);
  background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 26px;
  padding: 22px;
  box-shadow: var(--shadow2);
  text-align: center;
}
.lockBadge{
  display:inline-block;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.08);
  margin-bottom: 10px;
}
.lockTitle{ margin: 0 0 6px; font-weight: 900; }
.lockSub{ margin: 0 0 14px; color: rgba(255,255,255,0.75); }
.lockForm{ display:flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
.lockInput{
  flex: 1;
  min-width: 200px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.22);
  color: rgba(255,255,255,0.92);
  padding: 12px 14px;
  outline: none;
}
.lockInput:focus{
  border-color: rgba(255,77,141,0.45);
  box-shadow: 0 0 0 6px rgba(255,77,141,0.10);
}
.lockHint{ margin: 12px 0 0; min-height: 18px; color: rgba(255,255,255,0.78); }
.lockSmall{ margin: 10px 0 0; font-size: 12px; color: rgba(255,255,255,0.62); }

/* =========================
   Responsive
========================= */
@media (max-width: 980px){
  .grid3{ grid-template-columns: repeat(2, 1fr); }
  .gallery{ grid-template-columns: repeat(2, 1fr); }
  .polaroidWrap{ grid-template-columns: 1fr; }
  .polaroid{ max-width: 420px; margin: 0 auto; transform: rotate(-1deg); }
  .miniRow{ grid-template-columns: 1fr; }
  .diaryWrap{ grid-template-columns: 1fr; }
  .openWhenGrid{ grid-template-columns: repeat(2, 1fr); }
  .distanceWrap{ grid-template-columns: 1fr; }
  .moodWrap{ grid-template-columns: 1fr; }
}

@media (max-width: 560px){
  .countGrid{ grid-template-columns: repeat(2, 1fr); }
  .gallery{ grid-template-columns: 1fr; }
  .gItem img{ height: 240px; }
  .openWhenGrid{ grid-template-columns: 1fr; }
}

/* =========================
   Accessibility
========================= */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
  html{ scroll-behavior: auto; }
}